{
  "experiment": "adaptive_metric_selector",
  "best_threshold": 0.5,
  "final_accuracy": 0.631578947368421,
  "n_correct": 12,
  "n_total": 19,
  "failure_analysis": {
    "delta_agg_failures": [
      "Cornell",
      "Texas",
      "Wisconsin",
      "Actor",
      "cSBM-MidH",
      "cSBM-NoisyF",
      "cSBM-CleanF"
    ],
    "h_failures": [
      "cSBM-MidH",
      "cSBM-NoisyF",
      "cSBM-CleanF"
    ],
    "overlap": [
      "cSBM-NoisyF",
      "cSBM-MidH",
      "cSBM-CleanF"
    ],
    "is_non_overlapping": false,
    "delta_agg_accuracy": 0.631578947368421,
    "h_accuracy": 0.8421052631578947,
    "theoretical_max": 0.8421052631578947
  },
  "results": [
    {
      "dataset": "Elliptic",
      "h_value": 0.7634479999542236,
      "selected_metric": "h",
      "predicted_class": "A",
      "actual_class": "A",
      "correct": true,
      "rule_description": "h=0.76 > 0.5 → Trust h → Class A"
    },
    {
      "dataset": "Inj-Amazon",
      "h_value": 0.9069900512695312,
      "selected_metric": "h",
      "predicted_class": "A",
      "actual_class": "A",
      "correct": true,
      "rule_description": "h=0.91 > 0.5 → Trust h → Class A"
    },
    {
      "dataset": "Inj-Flickr",
      "h_value": 0.907258927822113,
      "selected_metric": "h",
      "predicted_class": "A",
      "actual_class": "A",
      "correct": true,
      "rule_description": "h=0.91 > 0.5 → Trust h → Class A"
    },
    {
      "dataset": "Inj-Cora",
      "h_value": 0.906690776348114,
      "selected_metric": "h",
      "predicted_class": "A",
      "actual_class": "A",
      "correct": true,
      "rule_description": "h=0.91 > 0.5 → Trust h → Class A"
    },
    {
      "dataset": "Cornell",
      "h_value": 0.13087248802185059,
      "selected_metric": "delta_agg",
      "predicted_class": "A",
      "actual_class": "B",
      "correct": false,
      "rule_description": "h=0.13 ≤ 0.5, δ_agg=2.70 ≤ 5 → Class A"
    },
    {
      "dataset": "Texas",
      "h_value": 0.10769230872392654,
      "selected_metric": "delta_agg",
      "predicted_class": "A",
      "actual_class": "B",
      "correct": false,
      "rule_description": "h=0.11 ≤ 0.5, δ_agg=2.64 ≤ 5 → Class A"
    },
    {
      "dataset": "Wisconsin",
      "h_value": 0.19611650705337524,
      "selected_metric": "delta_agg",
      "predicted_class": "A",
      "actual_class": "B",
      "correct": false,
      "rule_description": "h=0.20 ≤ 0.5, δ_agg=2.44 ≤ 5 → Class A"
    },
    {
      "dataset": "Chameleon",
      "h_value": 0.23500734567642212,
      "selected_metric": "delta_agg",
      "predicted_class": "B",
      "actual_class": "B",
      "correct": true,
      "rule_description": "h=0.24 ≤ 0.5, δ_agg=12.13 > 5 → Class B"
    },
    {
      "dataset": "Squirrel",
      "h_value": 0.2239430993795395,
      "selected_metric": "delta_agg",
      "predicted_class": "B",
      "actual_class": "B",
      "correct": true,
      "rule_description": "h=0.22 ≤ 0.5, δ_agg=32.39 > 5 → Class B"
    },
    {
      "dataset": "Actor",
      "h_value": 0.21876144409179688,
      "selected_metric": "delta_agg",
      "predicted_class": "A",
      "actual_class": "B",
      "correct": false,
      "rule_description": "h=0.22 ≤ 0.5, δ_agg=3.37 ≤ 5 → Class A"
    },
    {
      "dataset": "Cora",
      "h_value": 0.8099659085273743,
      "selected_metric": "h",
      "predicted_class": "A",
      "actual_class": "A",
      "correct": true,
      "rule_description": "h=0.81 > 0.5 → Trust h → Class A"
    },
    {
      "dataset": "CiteSeer",
      "h_value": 0.7355008721351624,
      "selected_metric": "h",
      "predicted_class": "A",
      "actual_class": "A",
      "correct": true,
      "rule_description": "h=0.74 > 0.5 → Trust h → Class A"
    },
    {
      "dataset": "PubMed",
      "h_value": 0.8023869395256042,
      "selected_metric": "h",
      "predicted_class": "A",
      "actual_class": "A",
      "correct": true,
      "rule_description": "h=0.80 > 0.5 → Trust h → Class A"
    },
    {
      "dataset": "Flickr",
      "h_value": 0.3194977343082428,
      "selected_metric": "delta_agg",
      "predicted_class": "B",
      "actual_class": "B",
      "correct": true,
      "rule_description": "h=0.32 ≤ 0.5, δ_agg=6.86 > 5 → Class B"
    },
    {
      "dataset": "cSBM-HighH",
      "h_value": 0.9050779342651367,
      "selected_metric": "h",
      "predicted_class": "A",
      "actual_class": "A",
      "correct": true,
      "rule_description": "h=0.91 > 0.5 → Trust h → Class A"
    },
    {
      "dataset": "cSBM-MidH",
      "h_value": 0.5061678886413574,
      "selected_metric": "h",
      "predicted_class": "A",
      "actual_class": "B",
      "correct": false,
      "rule_description": "h=0.51 > 0.5 → Trust h → Class A"
    },
    {
      "dataset": "cSBM-LowH",
      "h_value": 0.10424827039241791,
      "selected_metric": "delta_agg",
      "predicted_class": "B",
      "actual_class": "B",
      "correct": true,
      "rule_description": "h=0.10 ≤ 0.5, δ_agg=8.92 > 5 → Class B"
    },
    {
      "dataset": "cSBM-NoisyF",
      "h_value": 0.5061678886413574,
      "selected_metric": "h",
      "predicted_class": "A",
      "actual_class": "B",
      "correct": false,
      "rule_description": "h=0.51 > 0.5 → Trust h → Class A"
    },
    {
      "dataset": "cSBM-CleanF",
      "h_value": 0.5061678886413574,
      "selected_metric": "h",
      "predicted_class": "A",
      "actual_class": "B",
      "correct": false,
      "rule_description": "h=0.51 > 0.5 → Trust h → Class A"
    }
  ],
  "comparison": {
    "delta_agg_only": 0.631578947368421,
    "h_only": 0.8421052631578947,
    "full_fsd_fusion": 0.632,
    "adaptive_selector": 0.631578947368421
  }
}